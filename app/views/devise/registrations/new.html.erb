<div class='nhsuk-grid-row'>
  <div class='nhsuk-grid-column-two-thirds'>
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <fieldset class='nhsuk-fieldset'>
        <legend class='nhsuk-fieldset__legend nhsuk-fieldset__legend--xl'>
          <h1 class='nhsuk-fieldset__heading'>
            <%= I18n.t('navigation.sign_up_title') %>
          </h1>
        </legend>

        <div class="field-unit field-unit--email field-unit--required %> nhsuk-form-group<%= resource.errors.messages[:email]&.present? ? " nhsuk-form-group--error" : nil %>">
          <%= render 'fields/email/form', f: f, field: Administrate::Field::Email.new(:email, nil, nil), errors: resource.errors.messages %>
        </div>

        <div class="field-unit field-unit--email field-unit--required %> nhsuk-form-group<%= resource.errors.messages[:first_name]&.present? ? " nhsuk-form-group--error" : nil %>">
          <%= render 'fields/string/form', f: f, field: Administrate::Field::String.new(:first_name, nil, nil), errors: resource.errors.messages %>
        </div>

        <div class="field-unit field-unit--email field-unit--required %> nhsuk-form-group<%= resource.errors.messages[:last_name]&.present? ? " nhsuk-form-group--error" : nil %>">
          <%= render 'fields/string/form', f: f, field: Administrate::Field::String.new(:last_name, nil, nil), errors: resource.errors.messages %>
        </div>

        <div class="field-unit field-unit--email field-unit--required %> nhsuk-form-group<%= resource.errors.messages[:password]&.present? ? " nhsuk-form-group--error" : nil %>">
          <%= render 'fields/password/form', f: f, field: Administrate::Field::Password.new(:password, nil, nil), errors: resource.errors.messages %>
        </div>

        <div class="field-unit field-unit--email field-unit--required %> nhsuk-form-group<%= resource.errors.messages[:password_confirmation]&.present? ? " nhsuk-form-group--error" : nil %>">
          <%= render 'fields/password/form', f: f, field: Administrate::Field::Password.new(:password_confirmation, nil, nil), errors: resource.errors.messages %>
        </div>

        <div class='form-actions'>
          <%= f.submit I18n.t('navigation.sign_up'), class: 'nhsuk-button' %>
        </div>
      </fieldset>
    <% end %>

    <%= render 'devise/shared/links' %>
  </div>
</div>
